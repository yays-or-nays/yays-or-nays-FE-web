(this["webpackJsonphot-takes-web"]=this["webpackJsonphot-takes-web"]||[]).push([[0],{22:function(t,e,n){},23:function(t,e,n){},24:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){},53:function(t,e,n){"use strict";n.r(e);var o=n(2),a=n.n(o),c=n(17),s=n.n(c),r=(n(22),n(3)),i=(n(23),n(24),n(6)),l=n.n(i),u=n(7),h=n(0),j=new Headers;j.append("Content-Type","application/json");var d={method:"POST",headers:j,body:JSON.stringify({query:"query{\n  tags{\n      id\n      category\n  }\n}\n",variables:{}}),redirect:"follow"};function b(t){var e=t.getHotTake,n=Object(o.useState)([]),a=Object(r.a)(n,2),c=a[0],s=a[1];Object(o.useEffect)((function(){fetch("https://yays-or-nays-be.herokuapp.com/graphql",d).then((function(t){return t.json()})).then((function(t){return s(t.data.tags)})).catch((function(t){return console.log("error",t)}))}),[]);var i=c?c.map((function(t){return Object(h.jsx)("section",{className:"category-button",id:t.id,onClick:function(){return e(t.id)},children:Object(h.jsx)("p",{children:c.length?t.category:"Loading"})},t.id)})):Object(h.jsx)("p",{children:"Loading..."});return Object(h.jsxs)("nav",{children:[Object(h.jsx)("h1",{children:"Categories"}),i]})}n(51),n(52);var p=function(t){var e=t.hotTake,n=t.toggleResult,o=t.getHotTake;return Object(h.jsxs)("section",{className:"results",children:[Object(h.jsx)("h3",{className:"results-title",children:"And the people say..."}),Object(h.jsxs)("p",{className:"votes",children:["Yes Votes: ",e.yesVote]}),Object(h.jsxs)("p",{className:"votes",children:["No Votes: ",e.noVote]}),Object(h.jsx)("button",{className:"next-hottake",onClick:function(){o(e.tag.id),n()},children:"Next HotTake"})]})},g=n.p+"static/media/logo.ca58a66f.png";function y(t){var e=t.hotTake,n=t.getHotTake,a=Object(o.useState)(!1),c=Object(r.a)(a,2),s=c[0],i=c[1],j=function(t){return d(),"Yay"===t?l.a.post("https://yays-or-nays-be.herokuapp.com/graphql",Object(u.mutation)({operation:"incrementYesVote(input: {id: ".concat(e.id,"})"),fields:["clientMutationId"]})).then((function(t){console.log(t.data),t.status<400||console.log("fail")})):"Nay"===t?l.a.post("https://yays-or-nays-be.herokuapp.com/graphql",Object(u.mutation)({operation:"incrementNoVote(input: {id: ".concat(e.id,"}) {\n          clientMutationId\n        }")})).then((function(t){return console.log(t.data),t.status<400?t.data:t.status})):void 0},d=function(){i(!s)};return!s&&e?Object(h.jsxs)("main",{className:"hot-take",children:[Object(h.jsx)("img",{className:"logo",src:g}),Object(h.jsx)("p",{className:"question",children:e.question}),Object(h.jsx)("img",{className:"hot-take-img",src:e.picture,alt:"hot take"}),Object(h.jsxs)("section",{className:"buttons",children:[Object(h.jsx)("button",{className:"button",onClick:function(){e.yesVote++,j("Yay")},children:"Yay"}),Object(h.jsx)("button",{className:"button",onClick:function(){e.noVote++,j("Nay")},children:"Nay"})]})]}):s?Object(h.jsx)(p,{hotTake:e,toggleResult:d,getHotTake:n}):Object(h.jsx)("main",{className:"no-hot-take",children:Object(h.jsx)("p",{className:"emblem",children:"Select a Category!"})})}var f=function(){var t=Object(o.useState)(null),e=Object(r.a)(t,2),n=e[0],a=e[1],c=new Headers;c.append("Content-Type","application/json");var s=function(t){fetch("https://yays-or-nays-be.herokuapp.com/graphql",{method:"POST",headers:c,body:JSON.stringify({query:"query{\n  hotTakeByCategory(tagId: ".concat(t,") {\n    id\n    question\n    yesVote\n    noVote\n    picture\n    tag{\n      id\n      category\n    }\n  }\n}\n\n"),variables:{}}),redirect:"follow"}).then((function(t){return t.json()})).then((function(t){return a(t.data.hotTakeByCategory)})).catch((function(t){return console.log("error",t)}))};return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(b,{getHotTake:s}),Object(h.jsx)(y,{hotTake:n,getHotTake:s})]})};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(f,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.976a900f.chunk.js.map